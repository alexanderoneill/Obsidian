# Amazon RDS Overview
RDS Stands for Relational Database Service. Amazon RDS is a managed DB service for SQL DBs. The following databases are supported:
- Postgres
- MySQL
- MariaDB
- Orcale
- Microsoft SQL Server
- Aurora (Proprietary AWS DB)
RDS is a managed service, which means Amazon provides the following features out-of-the-box:
- Automated provisioning
- OS patching
- Rolling backups
- Point-in-time restore
- Monitoring dashboards
- Read replicas
- Multi-AZ DR setup
- Maintenance windows
- Scaling capability
- EBS-backed storage (using gp2 or io1 volumes)
However, you cannot SSH into RDS instances.
## RDS Storage Auto Scaling
RDS Storage Auto Scaling allows the available storage space in an RDS DB instance to be automatically scaled up or down depending on demand. It is dependent on the **Maximum Storage Threshold** value. For example, it can automatically modify storage if:
- Free storage is less that 10% of allocated storage
- Low-storage lasts at least 5 minutes
- 6 hours have passed since last modification
Useful for applications with unpredictable workloads, and has support for all RDS DB engines (see above).
# RDS Read Replicas vs Multi AZ
## Read Replicas
- Allows up to 15 Read Replicas
- RRs can be within AZ, Cross AZ, or Cross Region
- Replication is ASYNC, so reads are **eventually** consistent
- Replicas can be promoted to their own master DBs
![[6.1 RDS Read Replicas.png]]
## Read Replicas - Use Cases
- You have a production database that is taking on normal load
- You want to run a reporting application to run some analytics
- You create a Read Replica to run the new workload there
- The production application is unaffected
## Read Replicas - Network Cost
- In AWS there's a network cost when data goes from one AZ to another
- For RDS Read Replicas within the same region, you don't pay that fee
## RDS Multi AZ
- SYNC replication
- One DNS name - automatic app failover to standby
- Increases availability
- Failover in case of AZ loss, network loss, or instance / storage failure
- No manual intervention in apps
- Not used for scaling
![[6.2 RDS Multi AZ Disaster Recovery.png]]
## RDS From Single AZ to Multi AZ
- Zero downtime operation (No need to stop DB)
- Snapshot is taken
- New DB is restored from the snapshot in new AZ
- Synchronisation is established between the two databases
![[6.3 RDS Single AZ to Multi AZ.png]]
# RDS Custom for Oracle and Microsoft SQL Server
- A Managed Oracle and Microsoft SQL Server Database with OS and database customisation options
- RDS: Automates setup, operation, and scaling of AWS DB
- Custom: Access to the underlying database and OS so you can:
	- Configure settings
	- Install patches
	- Enable native features
	- Access the underlying EC2 Instance using SSH or SSM Session Manager
- Deactivate Automation Mode to perform your customisation, better to take a DB snapshot before
- RDS vs RDS Custom
	- RDS: Entire database and the OS to be managed by AWS
	- RDS Custom: Full admin access to the underlying OS and the database
# Amazon Aurora
- Aurora is a proprietary technology from AWS. It supports Postgres and MySQL as if they were Aurora DBs. 
- Aurora is "AWS Cloud Optimised" and claims a x5 performance improvement over MySQL on RDS, over x3 the performance of Postgres on RDS.
- Aurora Storage automatically grows in increments of 10GiB, up to 128TiB.
- Aurora can have up to 15 replicas and the replication process is faster than MySQL (<10ms replica lag)
- Failover in Aurora is instantaneous
- Aurora costs 20% more than RDS
## Aurora High Availability and Read Scaling
- 6 copies of your data across 3 AZs
	- 4 copies needed for writes
	- 3 copies needed for reads
	- Self-healing with P2P replication
	- Storage is striped across 100s of volumes
- On Aurora instance takes writes (master)
- Automated failover for master in less that 30 seconds
- Master and up to 15 Aurora Read Replicas serve read requests
- Supports Cross-Region replication
![[6.4 Aurora Read Replicas.png]]
![[6.5 Aurora DB Cluster.png]]
## Aurora Features
- Automatic failover
- Backup and recovery
- Isolation and security
- Industry compliance
- Push-button scaling
- Automated patching with zero downtime
- Advanced monitoring
- Routine maintenance
- Backtrack (Restore data at any point in time without using backups)
# Amazon Aurora - Advanced Concepts
## Aurora Replicas - Auto Scaling
![[6.6 Aurora Replicas - Auto Scaling.png]]
## Custom Endpoints
- You can define a subset of Aurora instances as a custom endpoint
- For example: Run analytical queries on specific replicas
- The Reader Endpoint is generally not used after defining Custom Endpoints
![[6.7 Aurora Custom Endpoints.png]]
## Aurora Serverless
- Automated database instantiation and auto-scaling based on actual usage
- Good for infrequent, intermittent or unpredictable workloads
- No capacity planning needed
- Pay-per-second
![[6.8 Aurora Serverless.png]]
## Global Aurora
- Aurora Cross-Region Read Replicas
	- Useful for disaster recovery
	- Simple to put in place
- Aurora Global Database
	- 1 primary region for read and write
	- Up to 5 secondary read-only regions with <1s replication lag
	- Up to 16 Read Replicas per secondary region
	- Helps for decreasing latency
	- Promoting another region has an RTO 
# RDS & Aurora - Backup Monitoring
# RDS Security
# RDS Proxy
# ElastiCache Overview
# ElastiCache for Solutions Architects
# Important Ports